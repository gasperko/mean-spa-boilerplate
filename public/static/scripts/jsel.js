!function(t,e,n,r){"use strict";function o(t){this.data=t,this.id=p.id}function i(n){this.date=new Date,this.message=n.message,this.url=n.source,this.line=n.lineno,this.column=n.colno,this.fileName=n.filename,this.locationObject=e.location,this.userAgent=e.navigator.userAgent,this.platform=e.navigator.platform,this.language=e.navigator.language,this.cookieEnabled=e.navigator.cookieEnabled,this.cookie=t.cookie,n.jselCustomData&&(this.customData=n.jselCustomData)}function a(){n&&console.log.apply(console,arguments)}function s(){!function(t){t.addEventListener||!function(t,e,n,r,o,i,a){t[r]=e[r]=n[r]=function(t,e){var n=this;a.unshift([n,t,e,function(t){t.currentTarget=n,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||n,e.call(n,t)}]),this.attachEvent("on"+t,a[0][3])},t[o]=e[o]=n[o]=function(t,e){for(var n,r=0;n=a[r];++r)if(n[0]===this&&n[1]===t&&n[2]===e)return this.detachEvent("on"+t,a.splice(r,1)[0][3])},t[i]=e[i]=n[i]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}(e),function(t){if(!t.btoa){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.btoa=function(t){t=String(t);for(var n,r,o,i,a="",s=0,c=t.length%3;s<t.length;){if((r=t.charCodeAt(s++))>255||(o=t.charCodeAt(s++))>255||(i=t.charCodeAt(s++))>255)throw new TypeError('Failed to execute "btoa" on "Window": The string to be encoded contains characters outside of the Latin1 range.');n=r<<16|o<<8|i,a+=e.charAt(n>>18&63)+e.charAt(n>>12&63)+e.charAt(n>>6&63)+e.charAt(63&n)}return c?a.slice(0,c-3)+"===".substring(c):a}}}(e),function(t){Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null===this)throw new TypeError("this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=0;r<i;){var a;r in o&&(a=o[r],t.call(n,a,r,o)),r++}})}(e),function(t){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})}(e)}function c(){var t=new Date,e=t.getMilliseconds()+"",n=++t+e+(1e4===++b?b=1:b);return n}function l(t){return e.btoa(JSON.stringify(t))}function u(t){var e="http://collect.jsel.info/";return n&&(e="http://collect.jseldev.com:3030/"),e+t}function f(){p.settings=p.settings||m}function h(t,e,n,r){if(e=new o(e),p.settings.sendType&&"ajax"===p.settings.sendType){var i=new XMLHttpRequest;i.open("POST",t),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send("data="+l(e))}else{var a=n?"?_"+c():"",s=new Image;r||(s.onerror=function(){h(t,e,n,!0)}),s.src=t+"/"+l(e)+a}}function d(t){p=t,p._loaded||(p._loaded=!0,s(),f(),g.register(),v.register())}var p,g,v,y,m,b;b=1,y=function(){},m={sendType:"img",errorHandler:y},g={_customHandler:function(t){var e=p.settings.errorHandler;return e&&("function"==typeof e?(a("error handler function",e(t)),t.jselCustomData=e(t)):(a("error handler other",e()),t.jselCustomData=e)),t},_onError:function(t){a("event listener error",t),t=g._customHandler(t),g._dispatch(t)},_dispatch:function(t){var e=u("error");return h(e,new i(t))},register:function(){e.addEventListener("error",this._onError,!1)}},v={_resolvePreRegistered:function(){var t=this;p&&p.q&&Array.isArray(p.q)&&p.q.length&&p.q.forEach(function(e){t.handle(e)})},_dispatch:function(t,e){var n=u("custom"),r=new o;r.eventName=t,r.data=e,h(n,r,!0)},handle:function(t){var e,n;return t&&"string"==typeof t?(e=t,n=Array.prototype.slice.call(arguments,1),v._dispatch(e,n),!0):t&&"object"==typeof t&&t.length?this.handle.apply(this,t):void console.error("Invalid parameter, the first parameter of the jsel method must be a string.")},register:function(){this._resolvePreRegistered(),e[e.JselObject]=this.handle}},e.JselObject&&"string"==typeof e.JselObject&&e[e.JselObject]?e[e.JselObject].id&&"string"==typeof e[e.JselObject].id?d(e[e.JselObject]):console.warn("Missing JSEL app ID."):console.error("JSEL object(JselObject) is not defined.")}(document,window,!1);